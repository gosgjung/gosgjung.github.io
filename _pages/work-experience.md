---
title: 주요 업무 경험들
author: Soon Good Jung
date: 2022-12-06
category: Jekyll
layout: post
---


# 논리적인 접근을 통한 안정적인 트래픽 처리 경험

> 웨이커, 증권데이터 처리 서버 개발
>
> - 미국주식에는 1만 2천개 이상의 주식이 존재하고, 이 주식 데이터의 거래데이터는 1ms에 200건의 거래데이터가 발생합니다.
> - 이 데이터를 모두 발생 즉시마다 처리하려면 부하를 피할 수 없습니다. 같은 성격의 데이터를 실세계에 존재하는 킷값으로 고유한 작업 ID를 구성해 고유한 작업 ID를 가지도록 했고, 이 작업 ID를 기반으로 같은 작업 ID에 속하는 거래데이터일 경우 그루핑을 하는 방식의 최적화 작업들을 수행했습니다.



메시징과 비동기/스레드 풀 프로그래밍을 효율적으로 구성해 트래픽을 안정적으로 처리해본 경험이 있습니다. 단순히 메시징 만을 사용해 프로젝트를 진행하는 것은 어렵지 않습니다. 메시징에 최적화된 구조로 메시징 인프라에 장애 또는 부하를 주지 않도록 소프트웨어를 구성하는 것은 조금은 수고를 해야 하는 작업입니다. 애플리케이션의 각 부분을 용도 별로 구분해서 인프라에 장애, 부하를 주지 않도록 각각의 역할을 병렬, 동시성 개념을 통해 해결했습니다.

이렇게 문제를 풀어내기 위해 미국 주식 데이터가 1ms 에 몇 건의 데이터가 오는지, 500건 단위의 데이터 BULK INSERT 작업에는 평균적으로 몇 ms가 소요되는지, 캐시 서버를 이용한 자료구조에 데이터를 put/evict 하는 데에는 몇 ns 의 시간이 소요되는 지를 일일이 모두 파악해 insert, MQ Push 스레드 작업들의 스케쥴링 주기를 결정하는 과정을 거쳤습니다.

그리고 이 작업들의 중복을 최대한 줄이면서 작업의 건수를 줄이기 위해 캐시 자료구조를 최적화를 했고 이것을 통해 스레드의 호출을 지속적으로 줄여나가면서 성능이 최적화되도록 이끌어낸 경험이 있습니다.


