---
title: 주요 업무 경험
author: Soon Good Jung
date: 2022-12-06
category: Jekyll
layout: post
---



# 로컬 테스트 환경 구축 경험

> 웨이커, 증권데이터 처리 서버 개발



- 레피니티브라고 벤더사에서 제공하는 거래 데이터 API 에서 제공하는 거래 데이터는 거래시각/거래가격 등의 필드들을 모호하게 보내주는 경우가 많습니다.

- 예를 들면 미국주식에서는 거래시각이라는 필드명이 `SALTIM_MS` 라고 하는 필드로 전달해주지만, 특정 ETF 는 `SALTIM` 이라는 필드로만 내려오는 경우도 있습니다. 이런 현상은 미국주식 외에도 ETF,채권, 중국주식, 지수 등의 데이터에도 무분별하게 발생했습니다.

- 이런 현상을 해결하려면, 개발용도의 메시지 큐를 개설하는 작업이 필요했는데, 그 당시의 인프라팀의 데브옵스 엔지니어들은 근무 태만이 심하기도 했고, 개발 용도의 메시지 큐 개설에 대해 전혀 이해를 못하는 상황이라 3개월 정도 설득을 거쳤고, 그 전 까지는 로컬 환경에서 `raw` 데이터를 명시적으로 검증할 수 있는 환경을 마련해야 했습니다.

- 이와 같은 현상을 해결하기 위해 매핑 룰을 객체지향적으로 구성해, 모호하게 내려오는 필드명을 매칭 시키는 소프트웨어 로직을 작성하는 작업도 수행했고, 이것을 검증하기 위해 로컬 테스트 환경을 구축했습니다.

- 쉽게 설명하면, 실제 라이브 데이터의 로그를 추출하고, 추출한 로그에서 json 덤프를 만들고, 이 json 덤프를 통해 필드 매핑을 테스트하는 구조의 테스트 환경이었습니다.

